# news-moder-bot
## Overview
В основе данного приложения два скрипта: `app/extractor.py` и `app/bot_news.py`.

Оба запускаются параллельно при помощи `app/main.sh` и работает это все следующим образом:

- Сначала запускается скрипт `extractor_src.py`, который считывает файл `data/channel_list.txt` со списком новостных каналов и генерирует файл `extractor.py` с тем количеством обработчиков новостных каналов, сколько каналов в списке
- Потом запускается сам скрипт `extractor.py` и за ним `bot_news.py`
- Запущенные скрипты создают директорию `log` с подкаталогами `extractor` и `bot_news`, куда и кладутся файлы логов

Необходимые для подключения данные Telegram API и Bot API хранятся в файле `.env` в директории `app`.

В директории `data/message_patterns` хранятся пример и шаблоны сообщений бота и новостей в формате JSON.

## Plan:
- [x] Конвертация сообщений каналов в JSON формат новостей
- [x] Управление модерацией инлайн кнопками
- [x] Автоматическая разметка заголовка и абстракта новости
- [x] Автоматическое создание обработчиков каналов из списка (требуется перезапуск `app/main.sh`
- [x] Логирование в файлы (директория `log` с подкаталогами)
- [ ] Расширить фильтрацию заголовка новости
- [ ] Проверка постов с каналов по словарю (перед отправкой)
- [ ] Исправить удаление гиперссылок из абстракта сообщения
- [ ] Кнопка `Edit` и возможность изменять сообщение в чате бота
- [ ] Вспомогательные команды в чате
- [ ] Redis для кэширования постов перед проверкой по словарю
- [ ] Коннектор к MongoDB
